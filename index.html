<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EFE - Reform From Violence</title>
  <meta name="description" content="Laporkan tindakan kekerasan secara anonim dan aman." />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="project-2.css" />
</head>

<body>
  <header class="hero">
    <nav class="navbar">
      <div class="nav-logo">EFE</div>
      <div class="nav-toggle" id="navToggle">&#9776;</div>
      <ul class="nav-links" id="navLinks">
        <li><a href="#about" class="nav-link">About</a></li>
        <li><a href="#report" class="nav-link">Report</a></li>
        <li><a href="#contact" class="nav-link">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main class="main">
    <section class="Header1" id="home">
      <h1 id="EFE">EFE</h1>
      <h2>Reform From Violence</h1>
      <p class="About">Laporkan kekerasan secara cepat dan aman melalui platform kami.</p>
    </section>

    <div class="section-divider"></div>

    <section id="about">
      <h2>About</h2>
      <p>EFE adalah platform yang bertujuan untuk membantu masyarakat melaporkan tindakan kekerasan secara anonim dan aman.</p>
    </section>

    <div class="section-divider"></div>

    <section id="report">
      <h2>Report</h2>
      <h3>Laporan Anda</h3>

     <form id="report-form">
  <div class="form-group">
    <label for="input-name">Nama Anda</label>
    <input type="text" id="input-name" name="name" placeholder="Nama" required />
  </div>

  <div class="form-group">
    <label for="input-email">Alamat Email Anda</label>
    <input type="email" id="input-email" name="email" placeholder="Alamat Email" required />
  </div>

  <div class="form-group">
    <label for="input-date">Tanggal</label>
    <input type="date" id="input-date" name="date" required />
  </div>

  <div class="form-group">
    <label for="input-location">Lokasi Kejadian</label>
    <input type="text" id="input-location" name="location" placeholder="Lokasi Kejadian" required />
  </div>

  <div class="form-group">
    <label for="input-address">Alamat Rumah</label>
    <input type="text" id="input-address" name="address" placeholder="Alamat" required />
  </div>

  <button class="btn-submit" type="submit">Submit</button>
</form>

      
    </section>
  </main>

  <footer>
    <div class="footer-container">
      <div class="footer-section">
        <h4>Disclaimer</h4>
        <p>Website ini hanyalah prototype yang dikembangkan untuk lomba. Fitur tambahan akan hadir di masa depan.</p>
      </div>
      <div class="footer-section">
        <h4 id="contact">Kontak</h4>
        <p>Email: ino.ila1507@gmail.com</p>
        <p>Telp: +62 851-5602-6998</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Alvino Rafansyah Indhrawan. Hak Cipta Dilindungi.</p>
    </div>
  </footer>

  <script>
    const navToggle = document.getElementById("navToggle");
    const navLinks = document.getElementById("navLinks");
    const navLinkEls = document.querySelectorAll(".nav-link");
    const sections = document.querySelectorAll("section");

    navToggle.addEventListener("click", () => {
      navLinks.classList.toggle("show");
    });

    window.addEventListener("scroll", () => {
      let current = "";
      sections.forEach((section) => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (pageYOffset >= sectionTop - sectionHeight / 3) {
          current = section.getAttribute("id");
        }
      });

      navLinkEls.forEach((link) => {
        link.classList.remove("active");
        if (link.getAttribute("href") === `#${current}`) {
          link.classList.add("active");
        }
      });
    });

    const form = document.getElementById("report-form");
    const scriptURL = "https://script.google.com/macros/s/AKfycbzxPREl33mOqdrm6gHY0quWMBG8tiUSantav-DoqQh3js2pGNBrnmh8u6sFeUnJZ0P5/exec";

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const submitButton = document.querySelector(".btn-submit");
      submitButton.disabled = true;
      submitButton.textContent = "Sending...";

      const lastSent = localStorage.getItem("lastReportTime");
      const now = Date.now();
      if (lastSent && now - lastSent < 2 * 60 * 1000) {
        alert("Tunggu 2 menit sebelum mengirim laporan lagi.");
        submitButton.disabled = false;
        submitButton.textContent = "Submit";
        return;
      }

      const formData = new FormData(form);

      fetch(scriptURL, {
        method: "POST",
        body: formData,
      })
      .then(() => {
        localStorage.setItem("lastReportTime", now);
        alert("Laporan berhasil dikirim!");
        form.reset();
      })
      .catch(() => alert("Gagal mengirim laporan."))
      .finally(() => {
        submitButton.disabled = false;
        submitButton.textContent = "Submit";
      });
    });
  </script>
</body>
</html>
